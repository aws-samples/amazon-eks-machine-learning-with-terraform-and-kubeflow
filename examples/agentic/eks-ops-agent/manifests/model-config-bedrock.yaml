# ModelConfig for Amazon Bedrock (Claude 3.5 Sonnet)
#
# This configures kagent to use Bedrock's OpenAI-compatible API endpoint.
# Note: kagent uses provider: OpenAI with Bedrock's baseUrl, not provider: Bedrock
#
# Prerequisites:
#   1. Create the secret with AWS credentials:
#      kubectl create secret generic kagent-bedrock -n kagent \
#        --from-literal=AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID \
#        --from-literal=AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY \
#        --from-literal=AWS_SESSION_TOKEN=$AWS_SESSION_TOKEN
#
#   2. Ensure Bedrock model access is enabled in your AWS account for Claude 3.5 Sonnet

apiVersion: kagent.dev/v1alpha2
kind: ModelConfig
metadata:
  name: bedrock-claude
  namespace: kagent
spec:
  apiKeySecret: kagent-bedrock
  apiKeySecretKey: AWS_ACCESS_KEY_ID
  model: anthropic.claude-3-5-sonnet-20241022-v2:0
  provider: OpenAI
  openAI:
    baseUrl: "https://bedrock-runtime.us-west-2.amazonaws.com/openai/v1"
